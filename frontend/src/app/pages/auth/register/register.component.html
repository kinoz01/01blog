<section class="auth-panel shadow-lg rounded-4 bg-white p-4 p-xl-5">
  <div class="d-flex align-items-center justify-content-between gap-3 mb-4">
    <div>
      <p class="text-uppercase text-muted fw-semibold small mb-1">Create your space</p>
      <h2 class="h4 fw-bold mb-0">Start sharing your learning journey</h2>
    </div>
    <div class="icon-circle text-info">
      <i class="bi bi-magic"></i>
    </div>
  </div>

  <ul class="checklist mb-4">
    <li>Publish posts with notes, media, and progress</li>
    <li>Subscribe to peers and exchange feedback</li>
    <li>Receive notifications when your network posts</li>
  </ul>

  <div *ngIf="errorMessage" class="alert alert-danger mb-3" role="alert">
    {{ errorMessage }}
  </div>

  <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        id="name"
        placeholder="Your name"
        formControlName="name"
        [class.is-invalid]="fieldInvalid('name')"
      />
      <label for="name">Full name</label>
      <div class="invalid-feedback">Tell us what we should call you.</div>
    </div>

    <div class="form-floating mb-3">
      <input
        type="email"
        class="form-control"
        id="registerEmail"
        placeholder="name@school.edu"
        formControlName="email"
        [class.is-invalid]="fieldInvalid('email')"
      />
      <label for="registerEmail">School email</label>
      <div class="invalid-feedback">Use a valid email like name&#64;school.edu</div>
    </div>

    <div class="form-floating mb-3">
      <input
        type="password"
        class="form-control"
        id="registerPassword"
        placeholder="Create a password"
        formControlName="password"
        [class.is-invalid]="fieldInvalid('password')"
      />
      <label for="registerPassword">Password</label>
      <div class="form-text">Use at least 8 characters.</div>
      <div class="invalid-feedback">Password must be at least 8 characters.</div>
    </div>

    <div class="form-floating mb-4">
      <input
        type="password"
        class="form-control"
        id="confirmPassword"
        placeholder="Confirm password"
        formControlName="confirmPassword"
        [class.is-invalid]="fieldInvalid('confirmPassword') || passwordMismatch()"
      />
      <label for="confirmPassword">Confirm password</label>
      <div class="invalid-feedback">Both passwords must match.</div>
    </div>

    <button class="btn btn-dark w-100 py-3" type="submit" [disabled]="isSubmitting">
      <span *ngIf="!isSubmitting">Create my account</span>
      <span *ngIf="isSubmitting" class="d-inline-flex align-items-center justify-content-center gap-2">
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Setting things up...
      </span>
    </button>
  </form>

  <p class="text-center text-muted mt-4 mb-0">
    Already have an account?
    <a routerLink="/login" class="fw-semibold text-decoration-none">Sign in</a>
  </p>
</section>
