<section class="notifications-shell" aria-live="polite">
  <header class="notifications-header d-flex justify-content-between align-items-center">
    <div>
      <p class="eyebrow mb-1 text-uppercase">Notifications</p>
      <h1 class="mb-0">Catch up on new posts</h1>
    </div>
  </header>

  <div *ngIf="isLoading" class="text-center py-5">
    <div class="spinner-border text-light" role="status"></div>
  </div>

  <div *ngIf="!isLoading && error" class="alert alert-danger" role="alert">
    {{ error }}
  </div>

  <ul *ngIf="!isLoading && !error && notifications.length; else emptyState" class="notification-list">
    <li *ngFor="let notification of notifications; trackBy: trackByNotification" class="notification-card">
      <div>
        <p class="mb-1">{{ notification.message }}</p>
        <small class="text-white-50">{{ notification.createdAt | date: 'medium' }}</small>
        <div class="mt-2">
          <a [routerLink]="['/posts', notification.postId]" class="btn btn-sm btn-outline-light rounded-pill">
            View post
          </a>
        </div>
      </div>
      <button
        type="button"
        class="btn btn-outline-light btn-sm rounded-pill"
        (click)="dismiss(notification)"
        [disabled]="deleting[notification.id]"
        aria-label="Dismiss notification"
      >
        <span *ngIf="deleting[notification.id]" class="spinner-border spinner-border-sm"></span>
        <span *ngIf="!deleting[notification.id]">Dismiss</span>
      </button>
    </li>
  </ul>

  <ng-template #emptyState>
    <div class="empty-state text-center text-white-50">
      <p class="mb-0">No notifications yet. Subscribed posts will appear here once published.</p>
    </div>
  </ng-template>
</section>
